# 実装計画

本計画は `docs/todo.md` に基づき作成されました。

## Phase 1: UI改善 (Mobile & Common)

### 1-1. モバイルUI: 下部ナビゲーション

- **境界の明確化**: HTML子要素同士の境界が分かりづらいため、ボーダーや背景色の調整を行い視認性を向上させる。
- **スペーシング**: 上部の "ノードタップして..." (操作ガイド) との間隔（margin-top）を増加させる。

### 1-2. 共通UI: ロード画面

- **余白調整**: ロード中の説明文の上部に余白（margin-top）を追加し、レイアウトを整える。

## Phase 2: API & タイムアウト処理の改善

### 2-1. タイムアウト設定の見直し

- **Gemini API設定**: Gemini APIのレスポンス時間に制約を設けられるか調査し、可能であれば20秒程度に設定する。
- **タイムアウト延長**: API呼び出し側（Frontend/Backend）のタイムアウト設定を延長し、処理時間が伸びてもエラーにならないようにする。

### 2-2. 分解処理のエラーハンドリング修正

- **現状**: 分解処理完了後にフロントエンドでエラー表示が出るが、データは保存されている（リロードで反映）。
- **対策**:
  - フロントエンドのレスポンス待ち受け処理（タイムアウトやエラーハンドリング）を見直す。
  - バックエンドからのレスポンスが正しく返されているか、またはフロントエンドが待ちきれずにタイムアウトしているかを確認し、適切な完了待機処理を実装する。

## Phase 3: UX改善

### 3-1. モーダル/オーバーレイの自動クローズ

- **対象**: リサーチ実行後など、操作完了後にモーダルが開いたままになる箇所。
- **実装**: 処理成功時のコールバックでモーダルを閉じる処理を追加し、より自然なフローにする。
